<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>User Profile</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100">

<div class="max-w-4xl mx-auto mt-10 p-6 bg-white rounded-xl shadow-md">
    <!-- Profile Header -->
    <div class="flex items-center space-x-6 mb-6">
        {% if user.profile_picture %}
    <img src="{{ user.profile_picture.url }}" alt="Profile Picture" class="w-24 h-24 rounded-full object-cover">
{% else %}
    <img src="/media/profile_pics/pro.jpg" alt="Default Profile Picture" class="w-24 h-24 rounded-full object-cover">
{% endif %}
        <div>
            <h1 class="text-2xl font-bold">{{ user.get_full_name }}</h1>
            <p class="text-gray-500">{{ user.email }}</p>
            <p class="text-gray-400 text-sm">Member since: {{ user.date_joined|date:"F Y" }}</p>
        </div>
        <div class="ml-auto">
            <a href="{% url 'edit-profile' %}" class="px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600">Edit Profile</a>
        </div>
    </div>

    <!-- Account Info -->
    <div class="mb-6">
        <h2 class="text-xl font-semibold mb-3">Account Info</h2>
        <ul class="space-y-2 text-gray-700">
            <li><strong>Username:</strong> {{ user.username }}</li>
            <li><strong>Email:</strong> {{ user.email }}</li>
            <li><strong>Full Name:</strong> {{ user.get_full_name }}</li>
            <li><strong>Phone Number:</strong> {{ user.phone_number|default:"Not Provided" }}</li>
        </ul>
    </div>

    <!-- User Activity -->
    <div class="mb-6">
        <h2 class="text-xl font-semibold mb-3">Your Activities</h2>
        <ul class="space-y-2">
            {% for event in user.rsvp_events.all %}
            <li class="p-3 bg-gray-50 rounded flex justify-between items-center">
                <span>{{ event.name }}</span>
                <a href="#" class="text-blue-500 hover:underline">View</a>
            </li>
            {% empty %}
            <li class="text-gray-500">You have not joined any events yet.</li>
            {% endfor %}
        </ul>
    </div>

    <!-- Settings -->
    <div class="mb-6">
        <h2 class="text-xl font-semibold mb-3">Settings</h2>
        <ul class="space-y-2">
            <li><a href="{% url 'change-password' %}" class="text-blue-500 hover:underline">Change Password</a></li>
            <li><a href="{% url 'sign-out' %}" class="text-red-500 hover:underline">Logout</a></li>
        </ul>
    </div>
</div>

</body>
</html>
